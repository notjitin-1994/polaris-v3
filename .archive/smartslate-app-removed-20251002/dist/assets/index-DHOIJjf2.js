const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AuthLanding-AuthLanding.tsx-e8DQhb97.js","assets/react-vendor-chunk-Ifbrj989.js","assets/vendor-chunk-DK5fc1G8.js","assets/feature-auth-chunk-CXGvZjQd.js","assets/supabase-chunk-CR9ODFC2.js","assets/pdf-libs-chunk-B1C7EZxo.js","assets/portal-chunk-D3mfeaBj.js","assets/AuthCallback-AuthCallback.tsx-DbzEax3l.js","assets/PublicProfile-PublicProfile.tsx-zUFxaBk7.js"])))=>i.map(i=>d[i]);
import{r as o,a as b,j as e,N as x,B as _,R as P,e as i,f as v}from"./react-vendor-chunk-Ifbrj989.js";import{_ as u}from"./pdf-libs-chunk-B1C7EZxo.js";import{g as m,a as c}from"./feature-auth-chunk-CXGvZjQd.js";import{P as y}from"./portal-chunk-D3mfeaBj.js";import"./vendor-chunk-DK5fc1G8.js";import"./supabase-chunk-CR9ODFC2.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))d(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&d(a)}).observe(document,{childList:!0,subtree:!0});function l(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function d(t){if(t.ep)return;t.ep=!0;const r=l(t);fetch(t.href,r)}})();function p({children:s}){const[n,l]=o.useState(null),[d,t]=o.useState(!0),r=b();if(o.useEffect(()=>{let a=!0;m().auth.getSession().then(({data:{session:h}})=>{a&&(l(h?.user??null),t(!1))});const{data:{subscription:j}}=m().auth.onAuthStateChange((h,g)=>{a&&(l(g?.user??null),t(!1))});return()=>{a=!1,j.unsubscribe()}},[]),d)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-pulse",children:e.jsx("div",{className:"w-12 h-12 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"})})});if(!n){const a=encodeURIComponent(r.pathname+r.search);return e.jsx(x,{to:`${c.home}?redirectTo=${a}`,replace:!0})}return e.jsx(e.Fragment,{children:s})}const E=o.lazy(()=>u(()=>import("./AuthLanding-AuthLanding.tsx-e8DQhb97.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),N=o.lazy(()=>u(()=>import("./AuthCallback-AuthCallback.tsx-DbzEax3l.js"),__vite__mapDeps([7,1,2,3,4,5]))),f=o.lazy(()=>u(()=>Promise.resolve().then(()=>A),void 0).then(s=>({default:s.PortalPage}))),L=o.lazy(()=>u(()=>import("./portal-chunk-D3mfeaBj.js").then(s=>s.S),__vite__mapDeps([6,1,2,3,4,5])).then(s=>({default:s.SettingsContent}))),w=o.lazy(()=>u(()=>import("./PublicProfile-PublicProfile.tsx-zUFxaBk7.js"),__vite__mapDeps([8,1,2,3,4,5,6])).then(s=>({default:s.PublicProfile})));function R(){return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-pulse",children:e.jsx("div",{className:"w-12 h-12 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"})})})}function S(){return e.jsx(_,{children:e.jsx(o.Suspense,{fallback:e.jsx(R,{}),children:e.jsxs(P,{children:[e.jsx(i,{path:c.home,element:e.jsx(E,{})}),e.jsx(i,{path:"/login",element:e.jsx(x,{to:c.home,replace:!0})}),e.jsx(i,{path:c.portal,element:e.jsx(p,{children:e.jsx(f,{})}),children:e.jsx(i,{path:"settings",element:e.jsx(L,{})})}),e.jsx(i,{path:c.portalUser,element:e.jsx(p,{children:e.jsx(f,{})})}),e.jsx(i,{path:"/auth/callback",element:e.jsx(N,{})}),e.jsx(i,{path:c.publicProfile,element:e.jsx(w,{})})]})})})}class O extends o.Component{state={hasError:!1,error:null};static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,l){console.error("Uncaught error:",n,l)}handleReset=()=>{this.setState({hasError:!1,error:null}),window.location.reload()};render(){return this.state.hasError?this.props.fallback?this.props.fallback:e.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:e.jsxs("div",{className:"glass-card p-8 max-w-md w-full text-center",children:[e.jsx("div",{className:"text-red-500 mb-4",children:e.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Something went wrong"}),e.jsx("p",{className:"text-white/60 mb-6",children:"An unexpected error occurred. Please try refreshing the page."}),this.state.error&&e.jsxs("details",{className:"text-left mb-4",children:[e.jsx("summary",{className:"cursor-pointer text-sm text-white/40 hover:text-white/60",children:"Error details"}),e.jsx("pre",{className:"mt-2 text-xs text-red-400 overflow-auto p-2 bg-black/20 rounded",children:this.state.error.toString()})]}),e.jsx("button",{onClick:this.handleReset,className:"btn-primary w-full",children:"Refresh Page"})]})}):this.props.children}}v.createRoot(document.getElementById("root")).render(e.jsx(o.StrictMode,{children:e.jsx(O,{children:e.jsx(S,{})})}));const A=Object.freeze(Object.defineProperty({__proto__:null,PortalPage:y},Symbol.toStringTag,{value:"Module"}));

# ============================================================================
# PRODUCTION ENVIRONMENT VARIABLES TEMPLATE
# ============================================================================
# Copy this file to .env.production and fill in your actual production values
# DO NOT commit .env.production to version control
# ============================================================================

# ============================================================================
# PRODUCTION STATUS: READY FOR LIVE DEPLOYMENT
# ============================================================================
# This file contains all the environment variables needed for production
# deployment with Razorpay payment integration.

# ============================================================================
# CRITICAL PRODUCTION: Razorpay Live Mode Configuration
# ============================================================================
# ⚠️  IMPORTANT: Use LIVE MODE keys for production deployment
# ⚠️  NEVER use test mode (rzp_test_) keys in production
# ⚠️  Get these from Razorpay Dashboard in LIVE MODE

# Razorpay Live API Key ID - Get from Razorpay Dashboard (Live Mode)
# Format: rzp_live_XXXXXXXXXXXXX
# This is SAFE for client-side use (exposed to browser)
NEXT_PUBLIC_RAZORPAY_KEY_ID=rzp_live_YOUR_LIVE_KEY_ID_HERE

# Razorpay Live API Key Secret - Get from Razorpay Dashboard (Live Mode)
# ⚠️  CRITICAL: NEVER expose this to the client - SERVER-SIDE ONLY
# Keep this secret and rotate regularly
RAZORPAY_KEY_SECRET=YOUR_LIVE_KEY_SECRET_HERE

# Razorpay Webhook Secret - Get from Razorpay Dashboard (Webhooks section)
# Used for webhook signature verification
# ⚠️  CRITICAL: NEVER expose this to the client - SERVER-SIDE ONLY
RAZORPAY_WEBHOOK_SECRET=whsec_YOUR_LIVE_WEBHOOK_SECRET_HERE

# Enable Razorpay payments in production
NEXT_PUBLIC_ENABLE_PAYMENTS=true

# ============================================================================
# REQUIRED PRODUCTION: Supabase Configuration
# ============================================================================
# Use your production Supabase project credentials

# Production Supabase Project URL
NEXT_PUBLIC_SUPABASE_URL=https://YOUR_PROJECT.supabase.co

# Production Supabase Anon Key (Public - can be exposed)
NEXT_PUBLIC_SUPABASE_ANON_KEY=YOUR_PRODUCTION_ANON_KEY_HERE

# Production Supabase Service Role Key (Secret - keep secure!)
# ⚠️  CRITICAL: NEVER expose this to client-side code
SUPABASE_SERVICE_ROLE_KEY=YOUR_PRODUCTION_SERVICE_ROLE_KEY_HERE

# Optional: Supabase Access Token (for admin operations)
SUPABASE_ACCESS_TOKEN=YOUR_PRODUCTION_ACCESS_TOKEN_HERE

# Optional: Supabase Project Reference
SUPABASE_PROJECT_REF=YOUR_PRODUCTION_PROJECT_REF

# ============================================================================
# REQUIRED PRODUCTION: Claude AI Configuration
# ============================================================================
# Use your production Claude API key

# Claude API Key - Get from https://console.anthropic.com/settings/keys
# Format: sk-ant-XXXXXXXXXXXXX
ANTHROPIC_API_KEY=sk-ant-YOUR_PRODUCTION_CLAUDE_KEY_HERE

# ============================================================================
# REQUIRED PRODUCTION: Application Configuration
# ============================================================================
# Set these for production deployment

# Node.js environment
NODE_ENV=production

# Production Application URL (used for webhooks and redirects)
# MUST be HTTPS with valid SSL certificate
NEXT_PUBLIC_APP_URL=https://your-production-domain.com

# ============================================================================
# OPTIONAL PRODUCTION: Logging and Monitoring
# ============================================================================

# Application log level (default: info for production)
# Options: debug, info, warn, error
NEXT_PUBLIC_LOG_LEVEL=info

# Log destination (default: console for production)
# Options: console, file, both
LOG_DESTINATION=console

# ============================================================================
# OPTIONAL PRODUCTION: Performance Configuration
# ============================================================================

# Enable AI SDK features (default: false)
NEXT_PUBLIC_USE_AI_SDK=false

# AI SDK logging level (default: info)
AI_SDK_LOG_LEVEL=info

# AI SDK timeout in milliseconds (default: 60000)
AI_SDK_TIMEOUT_MS=60000

# AI SDK max retries (default: 3)
AI_SDK_MAX_RETRIES=3

# ============================================================================
# PRODUCTION SECURITY CHECKLIST
# ============================================================================
# Before deploying to production, verify:

# ✅ API Key Security:
# [ ] NEXT_PUBLIC_RAZORPAY_KEY_ID starts with "rzp_live_" (not "rzp_test_")
# [ ] RAZORPAY_KEY_SECRET is the live secret (not test secret)
# [ ] RAZORPAY_WEBHOOK_SECRET matches production webhook
# [ ] No service role keys exposed with NEXT_PUBLIC_ prefix
# [ ] All secrets marked as sensitive in Vercel

# ✅ Domain Security:
# [ ] NEXT_PUBLIC_APP_URL uses HTTPS
# [ ] SSL certificate is active and valid
# [ ] Webhook endpoint accessible over HTTPS
# [ ] No localhost URLs in production configuration

# ✅ Razorpay Configuration:
# [ ] Live mode API keys obtained from Razorpay dashboard
# [ ] Production webhook configured with correct URL
# [ ] All required events selected in webhook configuration
# [ ] Test payment completed successfully

# ✅ Database Configuration:
# [ ] Production Supabase project connected
# [ ] All migrations applied to production database
# [ ] Row Level Security policies enabled
# [ ] Database connection limits configured appropriately

# ✅ Testing Verification:
# [ ] Production build completes successfully
# [ ] Environment variable validation passes
# [ ] End-to-end payment flow tested
# [ ] Webhook processing verified

# ============================================================================
# DEPLOYMENT INSTRUCTIONS
# ============================================================================
# 1. Fill in this template with your production values
# 2. Run: npm run validate:production
# 3. Set environment variables in Vercel dashboard
# 4. Deploy to production: git push origin main
# 5. Test deployment with real payment
# 6. Monitor systems for 24 hours post-launch

# ============================================================================
# SUPPORT AND EMERGENCY CONTACTS
# ============================================================================
# Razorpay Support: https://razorpay.com/support
# Vercel Support: https://vercel.com/support
# Supabase Support: https://supabase.com/support

# ============================================================================
# MONITORING CHECKLIST
# ============================================================================
# Monitor these metrics after deployment:
# - Payment success rate (>95% target)
# - Webhook processing time (<1s target)
# - API response times (<500ms P95 target)
# - Error rates (<1% target)
# - User registration and conversion rates
# - Database performance and query times

# ============================================================================
# ROLLBACK PROCEDURES
# ============================================================================
# If critical issues detected:
# 1. Disable payments: NEXT_PUBLIC_ENABLE_PAYMENTS=false
# 2. Redeploy with existing build
# 3. Monitor for improvement
# 4. If needed, revert last deployment: git revert HEAD

# ============================================================================
# ⚠️ SECURITY REMINDERS
# ============================================================================
# 1. NEVER commit this file or .env.production to git
# 2. .env.production is ignored by .gitignore
# 3. All NEXT_PUBLIC_* variables are exposed to the browser
# 4. Keep secret keys in environment variables only
# 5. Rotate keys regularly (quarterly recommended)
# 6. Use different keys for dev, staging, and production
# 7. Monitor for unauthorized API key usage
# 8. Log all payment operations for audit trails